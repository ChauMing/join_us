{"version":3,"sources":["orient_handler.js"],"names":["orienter","handler","o","Orienter","first","latitude","longitude","obj","lat","lon","start","Y","X","diffY","diffX","moving","init","pos","rotateX","parseFloat","anime","getValue","stage","rotateY","$stage","css","transform","sliceWrap","style","touchendRotateY"],"mappings":";;AAAA,SAASA,QAAT,CAAkBC,OAAlB,EAA2B;AACvB,QAAKC,IAAI,IAAIC,QAAJ,EAAT;AACA,QAAIC,QAAQ,IAAZ;AACA,QAAIC,WAAW,CAAf;AACA,QAAIC,YAAY,CAAhB;AACAJ,MAAED,OAAF,GAAY,UAACM,GAAD,EAAS;AACjB,YAAGH,KAAH,EAAU;AACNC,uBAAWE,IAAIC,GAAf,CADM,CACc;AACpBF,wBAAYC,IAAIE,GAAhB,CAFM,CAEc;AACpBL,oBAAQ,KAAR;AACAH,oBAAQS,KAAR,CAAc;AACVC,mBAAGN,QADO;AAEVO,mBAAGN;AAFO,aAAd;AAIA;AACH;;AAED,YAAIO,QAAQN,IAAIC,GAAJ,GAAUH,QAAtB;AACA,YAAIS,QAAQP,IAAIE,GAAJ,GAAUH,SAAtB;AACAL,gBAAQc,MAAR,CAAe;AACXD,wBADW;AAEXD;AAFW,SAAf;AAIH,KAlBD;AAmBAX,MAAEc,IAAF;AACH;;AAEDhB,SAAS;AACLU,WAAO,eAACO,GAAD,EAAS,CAEf,CAHI;AAILF,YAAQ,gBAACE,GAAD,EAAS;;AAGb,YAAIC,UAAUC,WAAWC,MAAMC,QAAN,CAAeC,KAAf,EAAsB,SAAtB,CAAX,IAAgDL,IAAIJ,KAAlE;;AAEA,YAAIU,UAAUN,IAAIH,KAAlB;;AAGA,YAAGI,UAAU,EAAV,IAAgBA,UAAU,CAAC,EAA9B,EAAkC,CACjC,CADD,MACO;AACHM,mBAAOC,GAAP,CAAW;AACPC,wCAAsBR,OAAtB;AADO,aAAX;AAGH;;AAEDS,kBAAUC,KAAV,CAAgBF,SAAhB,uEAA6FG,kBAAgBN,OAA7G;;AAGA;AAEH;AAxBI,CAAT","file":"orient_handler.js","sourcesContent":["function orienter(handler) {\n    let  o = new Orienter();\n    let first = true;\n    let latitude = 0;\n    let longitude = 0;\n    o.handler = (obj) => {\n        if(first) {\n            latitude = obj.lat; // 维度\n            longitude = obj.lon;// 经度\n            first = false;\n            handler.start({\n                Y: latitude,\n                X: longitude\n            });\n            return;\n        }\n\n        let diffY = obj.lat - latitude;\n        let diffX = obj.lon - longitude;\n        handler.moving({\n            diffX,\n            diffY\n        });\n    }\n    o.init();\n}\n\norienter({\n    start: (pos) => {\n        \n    }, \n    moving: (pos) => {\n\n       \n        let rotateX = parseFloat(anime.getValue(stage, 'rotateX')) +  pos.diffY;\n\n        let rotateY = pos.diffX;\n\n\n        if(rotateX > 40 || rotateX < -40) {\n        } else {\n            $stage.css({\n                transform: `rotateX(${rotateX}deg)`\n            })\n        }\n\n        sliceWrap.style.transform = `translateX(370px) translateZ(500px) translateY(-80px) rotateY(${touchendRotateY-rotateY}deg)`\n\n\n        // $('#test').html(`diffX=${pos.diffX}<br>diffY=${pos.diffY}`);\n\n    }\n});\n\n\n\n\n\n\n\n\n\n\n\n"],"sourceRoot":"/source/"}