{"version":3,"sources":["init_sence.js"],"names":["$sliceWrap","$","sliceWrap","$stage","stage","str","i","imageNumber","html","$slices","find","calculateR","width","deg","Math","tan","PI","R","imageWidth","each","index","item","css","transform","append","sliceWrapTranslateZ","sliceWrapRotateY","initStageTranslateZ"],"mappings":";;AAAA,IAAIA,aAAaC,EAAE,aAAF,CAAjB;AAAA,IACIC,YAAYF,WAAW,CAAX,CADhB;;AAGA,IAAIG,SAASF,EAAE,QAAF,CAAb;AAAA,IACIG,QAAQD,OAAO,CAAP,CADZ;;AAGC,WAASD,SAAT,EAAoB;AACjB,QAAIG,MAAM,EAAV;;AAEA,SAAI,IAAIC,IAAI,CAAZ,EAAeA,KAAKC,WAApB,EAAiCD,GAAjC,EAAuC;AACnCD,kFAA0EC,CAA1E;AACH;AACDN,eAAWQ,IAAX,CAAgBH,GAAhB;AACA,QAAII,UAAUT,WAAWU,IAAX,CAAgB,QAAhB,CAAd;;AAEA,aAASC,UAAT,CAAoBJ,WAApB,EAAiCK,KAAjC,EAAwC;AACpC,YAAIC,MAAM,MAAIN,WAAJ,GAAgB,CAA1B;AACA,eAAQK,QAAM,CAAP,GAAYE,KAAKC,GAAL,CAAU,IAAID,KAAKE,EAAT,IAAeH,MAAM,GAArB,CAAV,CAAZ,GAAiD,CAAxD;AACH;AACD,QAAII,IAAIN,WAAWJ,WAAX,EAAwBW,UAAxB,CAAR;;AAEAT,YAAQU,IAAR,CAAa,UAACC,KAAD,EAAQC,IAAR,EAAiB;AAC1BpB,UAAEoB,IAAF,EAAQC,GAAR,CAAY;AACRC,oCAAsB,CAAC,GAAD,GAAKhB,WAAL,GAAiBa,KAAvC,yBAAgEH,CAAhE;AADQ,SAAZ;AAGH,KAJD;;AAMAjB,eAAWwB,MAAX,sEACwC,MAAIP,CAD5C,kDAEkC,IAAEA,CAFpC;;AAQAjB,eAAWwB,MAAX,sEACwC,MAAIP,CAD5C,kDAEkC,IAAEA,CAFpC;;AAOAjB,eAAWsB,GAAX,CAAe;AACXC,mCAAyBE,mBAAzB,oBAA2DC,gBAA3D;AADW,KAAf;;AAIAvB,WAAOmB,GAAP,CAAW;AACPC,mCAAyBI,mBAAzB;AADO,KAAX;AAIH,CA5CA,EA4CCzB,SA5CD,CAAD","file":"init_sence.js","sourcesContent":["let $sliceWrap = $('.slice-wrap'),\n    sliceWrap = $sliceWrap[0];\n\nlet $stage = $('.stage'),\n    stage = $stage[0];\n\n(function(sliceWrap) {\n    let str = '';\n\n    for(let i = 1; i <= imageNumber; i ++) {\n        str += `<div class=\"slice\" style=\"background-image:url(dist\\/img\\/slice/${i}.png)\"></div>`;\n    }\n    $sliceWrap.html(str);\n    let $slices = $sliceWrap.find('.slice');\n\n    function calculateR(imageNumber, width) {\n        let deg = 360/imageNumber/2;\n        return (width/2) / Math.tan( 2 * Math.PI * (deg / 360))-6;\n    }\n    let R = calculateR(imageNumber, imageWidth);\n\n    $slices.each((index, item) => {\n        $(item).css({\n            transform: `rotateY(${-360/imageNumber*index}deg) translateZ(-${R}px) translateY(-50px)`\n        });\n    });\n\n    $sliceWrap.append(`<div class='sky' \n                            style='width: ${1.3*R}px; \n                            height: ${2*R}px;\n                            background-image: url(\"dist/img/loading/100.png\");\n                            background-size: 100% 100%;\n                            transform: rotateX(-90deg) translateZ(-600px) translateX(-50%)'></div>`)\n\n\n    $sliceWrap.append(`<div class='sky' \n                            style='width: ${1.3*R}px; \n                            height: ${2*R}px;\n                            background-image: url(\"dist/img/loading/100.png\");\n                            background-size: 100% 100%;\n                            transform: rotateX(90deg) translateZ(-600px) translateX(-50%)'></div>`)\n\n    $sliceWrap.css({\n        transform: `translateZ(${sliceWrapTranslateZ}px) rotateY(${sliceWrapRotateY}deg)`\n    });\n\n    $stage.css({\n        transform: `translateZ(${initStageTranslateZ}px)`\n    })\n\n}(sliceWrap));"],"sourceRoot":"/source/"}